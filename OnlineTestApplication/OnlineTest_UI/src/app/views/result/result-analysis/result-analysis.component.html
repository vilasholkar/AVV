<ngx-spinner 
    bdColor = "rgba(51, 51, 51, 0.8)"
    size = "large"
    color = "#fff"
    type = "ball-spin-clockwise-fade">
    <p style="padding-top:5px; font-size: 15px; color: black">Please Wait...</p>
  </ngx-spinner> 
<div class="animated fadeIn">
    <button mat-raised-button color="primary"id="downloadButton" type="button" value="Download Result" (click)="ConvertToPDF()">Download</button>
  <div id="contentToConvert">
  <div class="row">
    <div class="col-sm-12">
      <div class="card mat-elevation-z8">
        <div class="card-body">
          <table class="table table-bordered table-striped table-sm text-center" style="background-color: white">
            <tbody>
              <tr>
                <td colspan="2">
                  <table width="100%" style="background-color: white">
                    <tr>
                      <td width="15%" style=" border: none;">
                        <img src="../../../../assets/img/brand/logo.png" width="120px" height="60px">
                      </td>
                      <td width="85%" style=" border: none;">
                        <h4>An institute dedicated for the excellence in the prepration of</h4>
                        <h2>AIIMS,NEET</h2>
                      </td>
                    </tr>
                  </table>
                </td>
              </tr>
              <tr style="font-size: 16px;font-weight: 600;">
                <td width="50%">Test Name</td>
                <td width="50%">Test Date</td>
              </tr>
              <tr>
                <td>{{testName}}</td>
                <td>{{testDate| date: 'dd/MM/yyyy'}}</td>
              </tr>
              <tr style="font-size: 16px;font-weight: 600;">
                <td>Enrollment No</td>
                <td>Student Name</td>
              </tr>
              <tr>
                <td>{{enrollmentNo}}</td>
                <td>{{studentName}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-4">
      <div class="mat-elevation-z8">
        <div class="card">
          <div class="card-body">
            <h5 class="text-center"> Easy Question ({{totalEasy}})</h5>
            <div class="chart-wrapper">
              <canvas baseChart *ngIf="doughnutLabelEasy.length > 0" class="chart" [data]="EasyQuestionData" [labels]="doughnutLabelEasy"
                [legend]="doughnutChartLegend" [colors]="doughnutChartColor" [options]="doughnutChartOption" [chartType]="doughnutChartType"
                (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-4">
      <div class="mat-elevation-z8">
        <div class="card">
          <div class="card-body">
            <h5 class="text-center"> Medium Question ({{totalMedium}})</h5>
            <div class="chart-wrapper">
              <canvas baseChart *ngIf="doughnutLabelMedium.length > 0" class="chart" [data]="MediumQuestionData" [labels]="doughnutLabelMedium"
                [legend]="doughnutChartLegend" [colors]="doughnutChartColor" [options]="doughnutChartOption" [chartType]="doughnutChartType"
                (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-4">
      <div class="mat-elevation-z8">
        <div class="card">
          <div class="card-body">
            <h5 class="text-center"> Difficult Question ({{totalDifficult}})</h5>
            <div class="chart-wrapper">
              <canvas baseChart *ngIf="doughnutLabelDifficult.length > 0" class="chart" [data]="DifficultQuestionData" [labels]="doughnutLabelDifficult"
                [legend]="doughnutChartLegend" [colors]="doughnutChartColor" [options]="doughnutChartOption" [chartType]="doughnutChartType"
                (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- <div class="col-sm-4">
      <div class="card">
        <div class="card-header">
          Pie Chart
          <div class="card-header-actions">
            <a href="http://www.chartjs.org">
              <small class="text-muted">docs</small>
            </a>
          </div>
        </div>
        <div class="card-body">
          <div class="chart-wrapper">
            <canvas baseChart class="chart" [data]="pieChartData" [labels]="pieChartLabels" [chartType]="pieChartType" (chartHover)="chartHovered($event)"
              (chartClick)="chartClicked($event)" [colors]="pieChartColor" [options]="pieChartOption" [legend]="pieChartLegend"></canvas>
          </div>
        </div>
      </div>
    </div> -->
    <div class="col-sm-12">
      <div class="mat-elevation-z8 card" style="position: relative;width: 100%; overflow: auto;">
        <div class="card-body">
          <!-- <perfect-scrollbar style="position: relative;width: 100%; overflow: auto;"> -->
          <table class="table table-striped table-bordered nowrap text-center">
            <thead>
              <tr>
                <th rowspan="2">NAME</th>
                <th colspan="2">PHYSICS</th>
                <th colspan="2">CHEMISTRY</th>
                <th colspan="2">BIOLOGY</th>
                <th rowspan="2">TOTAL CORRECT</th>
                <th rowspan="2">TOTAL WRONG</th>
                <th rowspan="2">TOTAL ATTEMPT</th>
                <th rowspan="2">TOTAL MARKS</th>
                <th rowspan="2">Percentage</th>
              </tr>
              <tr>
                <th>R</th>
                <th>W</th>
                <th>R</th>
                <th>W</th>
                <th>R</th>
                <th>W</th>
              </tr>
            </thead>
            <tr class="font-weight-400" *ngFor="let topper_AverageModel of topper_Average">
              <td style="width:20%">{{topper_AverageModel.Topper_Average}}</td>
              <td style="width:5%">{{topper_AverageModel.Physics_Right}}</td>
              <td style="width:5%">{{topper_AverageModel.Physics_Wrong}}</td>
              <td style="width:5%">{{topper_AverageModel.Chemistry_Right}}</td>
              <td style="width:5%">{{topper_AverageModel.Chemistry_Wrong}}</td>
              <td style="width:5%">{{topper_AverageModel.Biology_Right}}</td>
              <td style="width:5%">{{topper_AverageModel.Biology_Wrong}}</td>
              <td style="width:10%">{{topper_AverageModel.TotalCorrect}}</td>
              <td style="width:10%">{{topper_AverageModel.TotalWrong}}</td>
              <td style="width:10%">{{topper_AverageModel.TotalAttempt}}</td>
              <td style="width:10%">{{topper_AverageModel.TotalMarksObtained}}</td>
              <td style="width:10%">{{topper_AverageModel.Percentage}}</td>
            </tr>
            <tr class="font-weight-400" *ngFor="let onlineTestResultModel of onlineTestResult">
              <td style="width:20%">{{onlineTestResultModel.StudentName}}</td>
              <td style="width:5%">{{onlineTestResultModel.Physics_Right}}</td>
              <td style="width:5%">{{onlineTestResultModel.Physics_Wrong}}</td>
              <td style="width:5%">{{onlineTestResultModel.Chemistry_Right}}</td>
              <td style="width:5%">{{onlineTestResultModel.Chemistry_Wrong}}</td>
              <td style="width:5%">{{onlineTestResultModel.Biology_Right}}</td>
              <td style="width:5%">{{onlineTestResultModel.Biology_Wrong}}</td>
              <td style="width:10%">{{onlineTestResultModel.TotalCorrect}}</td>
              <td style="width:10%">{{onlineTestResultModel.TotalWrong}}</td>
              <td style="width:10%">{{onlineTestResultModel.TotalAttempt}}</td>
              <td style="width:10%">{{onlineTestResultModel.TotalMarksObtained}}</td>
              <td style="width:10%">{{onlineTestResultModel.Percentage}}</td>
            </tr>
            <!-- <tr class="font-weight-400">
            <td style="width:20%">Student</td>
            <td style="width:5%">10</td>
            <td style="width:5%">5</td>
            <td style="width:5%">15</td>
            <td style="width:5%">10</td>
            <td style="width:5%">25</td>
            <td style="width:5%">5</td>
            <td style="width:10%">50</td>
            <td style="width:10%">20</td>
            <td style="width:10%">70</td>
            <td style="width:10%">250</td>
            <td style="width:10%">60%</td>
        </tr>
        <tr class="font-weight-400">
          <td style="width:20%">Student</td>
          <td style="width:5%">10</td>
          <td style="width:5%">5</td>
          <td style="width:5%">15</td>
          <td style="width:5%">10</td>
          <td style="width:5%">25</td>
          <td style="width:5%">5</td>
          <td style="width:10%">50</td>
          <td style="width:10%">20</td>
          <td style="width:10%">70</td>
          <td style="width:10%">250</td>
          <td style="width:10%">60%</td>
      </tr> -->
          </table>
          <!-- </perfect-scrollbar> -->
        </div>
      </div>
    </div>
    <div class="col-sm-6">
      <div class="card mat-elevation-z8">
        <div class="card-body">
          <div class="chart-wrapper">
            <canvas baseChart class="chart" *ngIf="barChartData.length > 0" [datasets]="barChartData" [labels]="barChartLabels" [options]="barChartOptions"
              [colors]="barChartColor" [legend]="barChartLegend" [chartType]="barChartType" (chartHover)="chartHovered($event)"
              (chartClick)="chartClicked($event)"></canvas>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-6">
      <div class="card mat-elevation-z8">
        <div class="card-body">
          <table class="table table-striped table-bordered nowrap text-center">
            <tr>
              <td colspan="2">All India Ranking</td>
            </tr>
            <tr>
              <td>General</td>
              <td>
                {{AIR_UR}}
              </td>
            </tr>
            <tr>
              <td>{{studentCaste}}</td>
              <td>{{AIR_CAT_RANK}}</td>
            </tr>
            <tr>
              <td colspan="2">State Ranking</td>
            </tr>
            <tr>
              <td>General</td>
              <td>{{SR_UR}}</td>
            </tr>
            <tr>
              <td>{{studentCaste}}</td>
              <td>{{SR_CAT_RANK}}</td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
</div>